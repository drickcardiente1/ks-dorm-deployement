{% extends 'user/base.html'%}
{% block content %}
<div class="container-sm mt-5"  style="max-width:960px; font-size:13px; ">
    <div class="container-sm  bg-body border border-secondary p-0"   >
        <h2 class=" card-title m-0 p-3 text-muted ">Create Complaint</h2>
        <div class="bg-secondary  p-2"></div>
        <form class="border border-0 p-4" id="submit_form" method="POST" enctype="multipart/form-data" class="form-control form-control-lg " >
            {% csrf_token %}

            <div class="col-md-4">
                <div class="label">
                    <label   class="form-label">Type of Complaint</label>
                </div>
                {{form.type}}
            </div>
            <div class="col-md-12 pb-3 my-4">
                <div class="label">
                    <label  class="form-label">Description</label>
                </div>
                <textarea class="form-control form-control-sm p-2" aria-label="With textarea" type="text"
                          rows="3" cols="1"   onkeypress="auto_grow(this);" onkeyup="auto_grow(this);"
                          style=" resize:none; overflow:hidden; " maxlength="1000" required name="description"></textarea>
            </div>
            {% if user.is_authenticated %}
            <button class="btn btn-secondary px-5  " form="submit_form" type="submit" >Submit</button>
            {% else %}
            <button class="btn btn-secondary px-5  " form="submit_form" type="submit" disabled>Submit</button>
            {% endif %}
        </form>
    </div>
</div>
<script type="text/javascript">
    function auto_grow(element){
        element.style.height = "5px";
        element.style.height = (element.scrollHeight)+"px";
    }
</script>
{% endblock %}